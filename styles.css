html, body {
   overflow: hidden;
   margin: 0;
   padding: 0;
   height: 100%;
   width: 100%;
   background: #0C1117;
  }
  
body {
  background: #0C1117; 
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

@media only screen and (max-width: 768px) {
  body {
    align-items: center;
  }
   
  .ipod-wrapper {
    margin-top: 20vh;
  }
   
  .ipod-container {
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
  }
}
  
  .ipod-wrapper {
   display: flex;
   justify-content: center;
   align-items: center;
  }
  
  :root {
   --mm-to-px: 4px;
  }
  
  @keyframes ipodZoomIn {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  70% {
    transform: scale(1.05);
    opacity: 1;
  }
  100% {
    transform: scale(1);
  }
  }
  
  .ipod-container {
   width: calc(40 * var(--mm-to-px));
   height: calc(55 * var(--mm-to-px));
   aspect-ratio: 40 / 55;
   background: linear-gradient(145deg, #e6e6e6, #cccccc);
   border-radius: calc(4 * var(--mm-to-px));
   display: flex;
   flex-direction: column;
   align-items: center;
   padding: calc(3 * var(--mm-to-px));
   box-sizing: border-box;
   box-shadow: 
   0 calc(0.2 * var(--mm-to-px)) calc(0.1 * var(--mm-to-px)) rgba(0,0,0,0.2),
   0 calc(0.5 * var(--mm-to-px)) calc(0.7 * var(--mm-to-px)) rgba(0,0,0,0.15),
   0 calc(1 * var(--mm-to-px)) calc(2 * var(--mm-to-px)) rgba(0,0,0,0.1),
   0 calc(2 * var(--mm-to-px)) calc(5 * var(--mm-to-px)) rgba(0,0,0,0.07),
   0 calc(4 * var(--mm-to-px)) calc(10 * var(--mm-to-px)) rgba(0,0,0,0.05),
   inset 0 calc(2 * var(--mm-to-px)) calc(3 * var(--mm-to-px)) rgba(255,255,255,0.1),
   inset 0 calc(-2 * var(--mm-to-px)) calc(3 * var(--mm-to-px)) rgba(0,0,0,0.05);
   position: relative;
   overflow: hidden;
   animation: ipodZoomIn 0.8s ease-out forwards;
   transition: background 0.5s ease;
    backdrop-filter: blur(15px) saturate(1.5);
    -webkit-backdrop-filter: blur(15px) saturate(1.5);
    
    z-index: 10;
  }
  
  .ipod-container::before {
   content: '';
   position: absolute;
   top: 0; left: 0; right: 0; bottom: 0;
   border-radius: calc(4 * var(--mm-to-px));
   box-shadow: 
       inset calc(1 * var(--mm-to-px)) calc(1 * var(--mm-to-px)) calc(2 * var(--mm-to-px)) rgba(255,255,255,0.1),
       inset calc(-1 * var(--mm-to-px)) calc(-1 * var(--mm-to-px)) calc(2 * var(--mm-to-px)) rgba(0,0,0,0.05);
   pointer-events: none;
  }
  
  .screen {
   width: calc(35 * var(--mm-to-px));
   height: calc(22.5 * var(--mm-to-px));
   background-color: #fff;
   margin-bottom: calc(3 * var(--mm-to-px));
   display: flex;
   flex-direction: row;
   box-sizing: border-box;
   border-radius: calc(1 * var(--mm-to-px));
   border-top: calc(0.7 * var(--mm-to-px)) solid #000000;
   border-bottom: calc(0.7 * var(--mm-to-px)) solid #000000;
   border-left: calc(1.5 * var(--mm-to-px)) solid #000000;
   border-right: calc(1.5 * var(--mm-to-px)) solid #000000;
   box-shadow: 
       inset 0 0 calc(2 * var(--mm-to-px)) rgba(0,0,0,0.2),
       0 0 calc(1 * var(--mm-to-px)) rgba(255,255,255,0.5);
   overflow: hidden;
   position: relative;
  }
  
  #display {
   color: #000;
   font-size: calc(2 * var(--mm-to-px));
   font-weight: bold;
   width: calc(16 * var(--mm-to-px));
   display: flex;
   flex-direction: column;
  }
  
  #menu-title {
   position: sticky;
   top: 0;
   z-index: 10;
   font-weight: bold;
   padding: calc(0.4 * var(--mm-to-px)) calc(1 * var(--mm-to-px));
   font-size: calc(1.25 * var(--mm-to-px));
   background: linear-gradient(to bottom, #ffffff, #bfbfbf);
   color: #000;
   border-top-left-radius: calc(0.5 * var(--mm-to-px));
   border-top-right-radius: calc(0.5 * var(--mm-to-px));
   width: 100%;
   box-sizing: border-box;
   box-shadow: inset 0 calc(-0.5 * var(--mm-to-px)) calc(1 * var(--mm-to-px)) rgba(0,0,0,0.15);
  }
  
  #menu-container {
   position: relative;
   overflow-y: auto;
   overflow-x: hidden;
   flex-grow: 1;
  }
  
  #menu-container::-webkit-scrollbar {
   width: calc(1px * var(--mm-to-px) / 4px);
  }
  #menu-container::-webkit-scrollbar-thumb {
   background-color: #888;
  }
  #menu-container {
   scrollbar-width: thin;
   scrollbar-color: #888 #f0f0f0;
  }
  
  #menu-list {
   list-style-type: none;
   padding: 0 calc(0.8 * var(--mm-to-px));
   margin: 0;
  }
  
  .menu-item {
   padding: calc(0.4 * var(--mm-to-px)) 0;
   font-weight: bold;
   font-size: calc(1.6 * var(--mm-to-px));
   position: relative;
  }
  
  .menu-item.active {
   background: linear-gradient(to bottom, #4db8ff, #007aff);
   color: #fff;
   margin-left: calc(-1 * var(--mm-to-px));
   margin-right: calc(-1 * var(--mm-to-px));
   padding-left: calc(1 * var(--mm-to-px));
   padding-right: calc(4 * var(--mm-to-px));
   box-shadow: inset 0 calc(-1 * var(--mm-to-px)) calc(1 * var(--mm-to-px)) rgba(0, 0, 0, 0.1);
  }
  
  .menu-item.active::after {
    content: '';
    display: block;
    width: calc(3 * var(--mm-to-px));
    height: calc(3 * var(--mm-to-px));
    background: url('images/arrow.svg') no-repeat center center;
    background-size: contain;
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }
  
  #right-display {
   width: calc(16 * var(--mm-to-px));
   height: 100%;
   background: linear-gradient(
       to right,
       rgba(0,0,0,1) 0%,
       rgba(0,0,0,0.9) 2%,
       rgba(0,0,0,0.8) 4%,
       rgba(0,0,0,0.7) 7%,
       rgba(0,0,0,0.5) 9%,
       rgba(0,0,0,0.2) 12%
   ), transparent;
   display: flex;
   justify-content: center;
   align-items: center;
   padding: 0;
   overflow: hidden;
   position: relative;
  }
  
  .display-icon {
   width: calc(100% + 2px);
   height: 100%;
   object-fit: cover;
   opacity: 0.8;
   user-select: none;
   -webkit-user-drag: none;
   display: block;
   position: absolute;
   left: 0;
   top: 0;
  }
  
  .clickwheel {
   width: calc(22 * var(--mm-to-px));
   height: calc(22 * var(--mm-to-px));
   background: linear-gradient(145deg, #f0f0f0, #ffffff);
   border-radius: 50%;
   position: relative;
   box-shadow: 
       0 0 calc(2 * var(--mm-to-px)) rgba(0,0,0,0.1),
       inset 0 0 calc(4 * var(--mm-to-px)) rgba(255,255,255,0.5);
  }
  
  .button {
   position: absolute;
   width: calc(6 * var(--mm-to-px));
   height: calc(6 * var(--mm-to-px));
   display: flex;
   justify-content: center;
   align-items: center;
  }
  
  .top { top: -5%; left: 50%; transform: translateX(-50%); }
  .right { right: -3%; top: 50%; transform: translateY(-50%); }
  .bottom { bottom: -5%; left: 50%; transform: translateX(-50%); }
  .left { left: -3%; top: 50%; transform: translateY(-50%); }
    
  .center-button {
   position: absolute;
   width: calc(11 * var(--mm-to-px));
   height: calc(11 * var(--mm-to-px));
   background: radial-gradient(ellipse at bottom center, rgba(255,255,255,0.25) 0%, rgba(255,255,255,0) 60%),
               linear-gradient(-145deg, #c0c0c0, #cccccc);
   border-radius: 50%;
   top: 50%;
   left: 50%;
   transform: translate(-50%, -50%);
   box-shadow: 
       inset 0 calc(-0.2 * var(--mm-to-px)) calc(0.5 * var(--mm-to-px)) rgba(255,255,255,0.25),
       inset 0 calc(0.2 * var(--mm-to-px)) calc(0.8 * var(--mm-to-px)) rgba(0,0,0,0.06);
  }
  
  .ipod-icon {
   width: calc(5 * var(--mm-to-px));
   height: calc(5 * var(--mm-to-px));
   object-fit: contain;
   user-select: none;
   -webkit-user-drag: none;
   pointer-events: none;
  }
  
  @media (min-width: 769px) {
   .ipod-container {
       width: min(400px, 90vw); 
       height: auto;
       max-height: 90vh;
       --mm-to-px: calc(min(400px, 90vw) / 40);
   }
  }
  
  @media (max-width: 768px) {
   .ipod-container {
       width: min(90vw, calc(90svh * (40 / 55)));
       height: auto;
       max-width: 90vw;
       max-height: 90svh;
       --mm-to-px: calc(min(90vw, calc(90svh * (40 / 55))) / 40); 
   }
  }
  
  body.theme-light {
  }
  
  body.theme-dark .ipod-container {
   background: linear-gradient(145deg, #333333, #222222);
   color: white;
  }
  
  body.theme-dark .screen {
   border-color: #000000;
  }
  
  body.theme-dark .clickwheel {
   background: #111111;
   box-shadow: 
       0 0 calc(2 * var(--mm-to-px)) rgba(0,0,0,0.3),
       inset 0 0 calc(4 * var(--mm-to-px)) rgba(0,0,0,0.5);
  }
  
  body.theme-dark .center-button {
   background: #222222;
   box-shadow: 
       inset 0 calc(-0.2 * var(--mm-to-px)) calc(0.5 * var(--mm-to-px)) rgba(0,0,0,0.25),
       inset 0 calc(0.2 * var(--mm-to-px)) calc(0.8 * var(--mm-to-px)) rgba(0,0,0,0.3);
  }
  
  body.theme-dark .ipod-icon {
   filter: brightness(0) invert(1);
  }
  
  body.theme-mint .ipod-container {
   background: linear-gradient(145deg, #98CFD1, #7ABFC1);
   color: white;
  }
  
  body.theme-mint .screen {
   border-color: #555555;
  }
  
  body.theme-mint .ipod-container {
   background: linear-gradient(145deg, #98CFD1, #7ABFC1);
   color: white;
  }
   
  body.theme-mint .screen {
   border-color: #000000;
  }
   
  body.theme-mint .clickwheel {
   background: linear-gradient(145deg, #f0f0f0, #ffffff);
   box-shadow: 
       0 0 calc(2 * var(--mm-to-px)) rgba(0,0,0,0.1),
       inset 0 0 calc(4 * var(--mm-to-px)) rgba(255,255,255,0.5);
  }
   
  body.theme-mint .center-button {
   background: linear-gradient(145deg, #98CFD1, #7ABFC1);
   box-shadow: 
       inset 0 calc(-0.2 * var(--mm-to-px)) calc(0.5 * var(--mm-to-px)) rgba(255,255,255,0.25),
       inset 0 calc(0.2 * var(--mm-to-px)) calc(0.8 * var(--mm-to-px)) rgba(0,0,0,0.06);
  }
  
  .fade-in, .fade-out, .slide-in-right, .slide-in-left, .slide-out-right, .slide-out-left {
  animation: none;
  }

#background-text {
    position: absolute;
    top: 120px;
    left: 200px;
    z-index: 1;
    color: #ffffff;
    font-family: 'Doto', monospace;
    opacity: 1;
}

#background-text h1 {
    font-size: 0.8em;
    margin-bottom: 5px;
}

#background-text p {
    font-size: 0.8em;
    margin: 0;
}

@media (max-width: 768px) {
    #background-text {
        top: 20px;
        left: 20px;
        opacity: 1;
    }
    #background-text h1 {
        font-size: 0.8em;
    }
    #background-text p {
        font-size: 0.8em;
    }
}
